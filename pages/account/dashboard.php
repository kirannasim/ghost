<?php 
	if(!empty(gForm::$msg)) {
		echo '<div class="notice status-'.gForm::$status.'">'.gForm::$msg.'</div>';
	}
?>

<main class="content fullh">	
	<div class="section-top">
		<div class="grow">
			<div class="details-wrap">
				<div class="details">
					<div class="detail">
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
							<circle opacity="0.3" cx="20" cy="20" r="20" fill="#8E53F5"/>
							<path d="M28.9638 19.1099C27.8436 18.6928 26.368 18.4633 24.8098 18.4633C23.2516 18.4633 21.7761 18.693 20.6559 19.1099C18.9466 19.7461 18.5877 20.6031 18.5877 21.2101V23.858C18.5877 23.8689 18.5879 23.88 18.5883 23.8913H18.5877V26.5392C18.5877 26.5501 18.5879 26.5612 18.5883 26.5724H18.5877V29.2534C18.5877 29.8603 18.9466 30.7174 20.6559 31.3536C21.7761 31.7708 23.2516 32.0002 24.8098 32.0002C26.368 32.0002 27.8436 31.7706 28.9638 31.3536C30.6731 30.7175 31.0319 29.8604 31.0319 29.253L31.0321 29.2202V29.2196L31.0313 26.6153C31.0315 26.6007 31.0321 26.5863 31.0321 26.5721H31.0315C31.0317 26.561 31.0321 26.5495 31.0321 26.5386L31.0313 23.9343C31.0315 23.9197 31.0321 23.9053 31.0321 23.8911H31.0315C31.0317 23.88 31.0321 23.8686 31.0321 23.8577L31.0313 21.2534C31.0315 21.2388 31.0321 21.2244 31.0321 21.2102C31.0323 20.6032 30.6735 19.7461 28.9638 19.11L28.9638 19.1099ZM21.1347 20.3958C22.1058 20.0345 23.4109 19.8353 24.81 19.8353C26.2091 19.8353 27.5145 20.0345 28.4853 20.3958C29.4118 20.7406 29.6446 21.0878 29.6594 21.199V21.2208C29.6446 21.3321 29.4118 21.6792 28.4853 22.024C27.5143 22.3854 26.2091 22.5845 24.81 22.5845C23.4109 22.5845 22.1056 22.3854 21.1347 22.024C20.1759 21.6672 19.96 21.3076 19.96 21.2099C19.96 21.1123 20.1759 20.7527 21.1347 20.3958V20.3958ZM28.4853 30.0341C27.5145 30.3957 26.2091 30.5949 24.81 30.5949C23.4109 30.5949 22.1056 30.3957 21.1347 30.0343C20.1759 29.6775 19.96 29.3179 19.96 29.2202V28.3651C20.1627 28.4717 20.3933 28.5747 20.6559 28.6726C21.7761 29.0897 23.2517 29.3192 24.8099 29.3192C26.3681 29.3192 27.8436 29.0895 28.9638 28.6726C29.2264 28.5747 29.457 28.4719 29.6595 28.3653L29.6597 29.2204C29.6599 29.318 29.4438 29.6775 28.4854 30.0341L28.4853 30.0341ZM29.6602 26.5393H29.6594V26.5498C29.6446 26.6611 29.4118 27.0082 28.4853 27.353C27.5143 27.7144 26.2091 27.9136 24.81 27.9136C23.4109 27.9136 22.1056 27.7144 21.1347 27.353C20.1759 26.9962 19.9601 26.6366 19.9601 26.5389V25.6838C20.1627 25.7904 20.3934 25.8934 20.6559 25.9913C21.7761 26.4084 23.2517 26.6379 24.8099 26.6379C26.3681 26.6379 27.8436 26.4082 28.9638 25.9913C29.2264 25.8934 29.457 25.7906 29.6595 25.684L29.6603 26.5393L29.6602 26.5393ZM29.6602 23.8582H29.6594V23.8687C29.6446 23.9799 29.4118 24.3271 28.4853 24.6719C27.5143 25.0332 26.2091 25.2324 24.81 25.2324C23.4109 25.2324 22.1056 25.0333 21.1347 24.6719C20.1759 24.315 19.9601 23.9554 19.9601 23.8578V23.0028C20.1627 23.1094 20.3934 23.2125 20.6559 23.3103C21.7761 23.7275 23.2517 23.9569 24.8099 23.9569C26.3681 23.9569 27.8436 23.7273 28.9638 23.3103C29.2264 23.2125 29.457 23.1096 29.6595 23.003L29.6603 23.8582L29.6602 23.8582ZM17.2154 26.6052V26.572V26.556V26.5385V25.4917C16.8919 25.5142 16.5596 25.5263 16.2218 25.5263C14.8226 25.5263 13.5173 25.3271 12.5465 24.9658C11.5877 24.6089 11.3718 24.2493 11.3718 24.1517V23.2965C11.5744 23.4031 11.8051 23.5062 12.0677 23.604C13.1879 24.0211 14.6634 24.2508 16.2216 24.2508C16.5575 24.2508 16.8897 24.2393 17.2152 24.2185V23.891V23.8751V23.8576V22.8107C16.8918 22.8333 16.5594 22.8453 16.2216 22.8453C14.8225 22.8453 13.5172 22.6462 12.5463 22.2848C11.5875 21.9279 11.3716 21.5683 11.3716 21.4707V20.6155C11.5743 20.7221 11.8049 20.8252 12.0675 20.923C13.1877 21.3402 14.6633 21.5699 16.2215 21.5699C16.5573 21.5699 16.8895 21.5584 17.2151 21.5376L17.2155 21.2101C17.2155 20.9047 17.2649 20.5072 17.4463 20.0784C17.0507 20.113 16.6407 20.1313 16.222 20.1313C14.8229 20.1313 13.5176 19.9322 12.5467 19.5708C11.5879 19.2139 11.3721 18.8543 11.3721 18.7567V17.9015C11.5747 18.0081 11.8054 18.1112 12.0679 18.209C13.1881 18.6262 14.6637 18.8558 16.2219 18.8558C17.0475 18.8558 17.8487 18.7909 18.587 18.6682C18.9915 18.3609 19.5108 18.0719 20.1771 17.8239C20.8434 17.5758 21.6141 17.3871 22.4436 17.263L22.4434 16.1545C22.4439 16.1391 22.4441 16.1241 22.4441 16.1089H22.4436C22.4437 16.0979 22.4441 16.0864 22.4441 16.0755L22.4434 13.4733C22.4439 13.458 22.4441 13.443 22.4441 13.4278H22.4436C22.4437 13.4167 22.4441 13.4052 22.4441 13.3944L22.4434 10.7922C22.4439 10.7768 22.4441 10.7618 22.4441 10.7467C22.4441 10.1397 22.0853 9.28262 20.376 8.64644C19.2558 8.22947 17.7805 8 16.2221 8C14.6639 8 13.1883 8.22949 12.0681 8.64644C10.3588 9.28257 10 10.1397 10 10.7467V13.3946C10 13.4054 10.0002 13.4165 10.0006 13.4278H10V16.0757C10 16.0866 10.0002 16.0977 10.0006 16.109H10V18.7901C10 18.801 10.0002 18.8121 10.0006 18.8234H10V21.4712C10 21.4821 10.0002 21.4932 10.0006 21.5045H10V24.1524C10 24.7593 10.3588 25.6164 12.0681 26.2526C13.1883 26.6698 14.6639 26.8994 16.2221 26.8994C16.5579 26.8994 16.8901 26.888 17.2157 26.8672V26.6052L17.2154 26.6052ZM12.5467 9.93298C13.5177 9.57163 14.8229 9.37247 16.222 9.37247C17.6211 9.37247 18.9264 9.57162 19.8973 9.93298C20.823 10.2776 21.056 10.6244 21.0709 10.736V10.7584C21.056 10.8698 20.8228 11.2168 19.8973 11.5614C18.9262 11.9227 17.621 12.1219 16.222 12.1219C14.8228 12.1219 13.5175 11.9227 12.5467 11.5614C11.5879 11.2045 11.372 10.8449 11.372 10.7473C11.3722 10.6494 11.5877 10.2898 12.5467 9.93299V9.93298ZM11.3718 12.5398C11.5744 12.6464 11.8051 12.7494 12.0677 12.8473C13.1879 13.2644 14.6634 13.4941 16.2216 13.4941C17.7798 13.4941 19.2553 13.2644 20.3756 12.8473C20.6381 12.7494 20.8688 12.6466 21.0712 12.54L21.0714 13.3947V13.3949H21.0707V13.4058C21.0557 13.5173 20.8225 13.8642 19.897 14.2088C18.9259 14.5702 17.6207 14.7693 16.2217 14.7693C14.8225 14.7693 13.5172 14.5702 12.5464 14.2088C11.5876 13.852 11.3717 13.4923 11.3717 13.3947L11.3718 12.5398ZM11.3718 15.2207C11.5744 15.3273 11.8051 15.4304 12.0677 15.5282C13.1879 15.9454 14.6634 16.175 16.2216 16.175C17.7798 16.175 19.2553 15.9454 20.3756 15.5282C20.6381 15.4304 20.8688 15.3275 21.0712 15.2209L21.0714 16.0757V16.0759H21.0707V16.0868C21.0557 16.1982 20.8225 16.5452 19.897 16.8898C18.9259 17.2511 17.6207 17.4503 16.2217 17.4503C14.8225 17.4503 13.5172 17.2511 12.5464 16.8898C11.5876 16.5329 11.3717 16.1733 11.3717 16.0757L11.3718 15.2207Z" fill="#BC6EFB"/>
						</svg>
						<span>Credit Left</span>
						<div><i><?= self::$user['user_credit'] ?? 0 ?></i><b>$</b></div>
						<a class="btn" href="#">Add</a>
					</div>
					<div class="detail">
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
							<circle opacity="0.3" cx="20" cy="20" r="20" fill="#8E53F5"/>
							<path d="M28.7733 15.2779L20.5001 11.1192L12.2268 15.2779L20.5001 19.4362L28.7733 15.2779Z" stroke="#BC6EFB" stroke-width="2"/>
							<path d="M20.5002 22.6665L28.8999 18.4443L31 19.4998L20.5001 24.7778L10.0001 19.4998L12.1002 18.4443L20.5002 22.6665Z" fill="#BC6EFB"/>
							<path d="M20.5002 26.8887L28.8999 22.6665L31 23.722L20.5001 28.9999L10.0001 23.722L12.1002 22.6665L20.5002 26.8887Z" fill="#BC6EFB"/>
						</svg>
						<span>Threads Limit</span>
						<div><i><?= self::$user['user_threads_limit'] ?? 0 ?></i></div>
						<a class="btn" href="#">Upgrade</a>
					</div>
					<div class="detail">
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
							<circle opacity="0.3" cx="20" cy="20" r="20" fill="#8E53F5"/>
							<path d="M18.7373 8C18.5558 8.00064 18.382 8.07637 18.2537 8.21049C18.1254 8.34461 18.0531 8.52623 18.0524 8.71587V11.2681C16.8769 11.6546 15.8125 12.2965 14.9046 13.1675L12.7935 11.8886V11.8885C12.6354 11.7937 12.4476 11.7682 12.2716 11.818C12.0955 11.8678 11.9457 11.9886 11.8549 12.1538L10.093 15.3489C10.0018 15.5137 9.97695 15.7096 10.0238 15.8936C10.0706 16.0775 10.1852 16.2345 10.3427 16.3301L12.3624 17.5501C12.2217 18.1917 12.0891 18.8378 12.0885 19.4971V19.5029C12.0903 20.1636 12.2254 20.8076 12.3678 21.4499L10.3427 22.6699C10.1849 22.7655 10.0699 22.9227 10.0231 23.1071C9.97617 23.2914 10.0013 23.4876 10.093 23.6525L11.8549 26.8462C11.9457 27.0114 12.0955 27.1322 12.2715 27.1821C12.4476 27.2319 12.6354 27.2065 12.7935 27.1115L14.9046 25.8383C15.8127 26.7072 16.8777 27.347 18.0523 27.7321V30.2785C18.0516 30.4691 18.1234 30.6522 18.2519 30.7876C18.3803 30.9228 18.5548 30.9994 18.7373 31H22.2651C22.4474 30.9994 22.6221 30.9228 22.7504 30.7876C22.8789 30.6522 22.9507 30.4691 22.9499 30.2785V27.7319C24.1254 27.3454 25.1885 26.7035 26.0963 25.8325L28.2074 27.1114L28.2075 27.1115C28.3658 27.2068 28.5538 27.2325 28.7301 27.1828C28.9065 27.1329 29.0567 27.0119 29.1476 26.8462L30.9081 23.6525C30.9993 23.4871 31.0238 23.2904 30.9763 23.1061C30.9285 22.9217 30.8128 22.7648 30.6543 22.6699L28.6345 21.4499C28.776 20.8069 28.9132 20.1639 28.9139 19.5029V19.4971C28.912 18.8377 28.7763 18.1912 28.6345 17.5501L30.6543 16.3301C30.8123 16.2352 30.9279 16.0786 30.9756 15.8946C31.0232 15.7106 30.9988 15.5142 30.9081 15.3489L29.1476 12.1539C29.0567 11.9881 28.9065 11.8672 28.7301 11.8173C28.5538 11.7676 28.3658 11.7932 28.2075 11.8885L26.0965 13.1617C25.1898 12.2941 24.1228 11.6533 22.9501 11.268L22.9499 8.71592C22.9493 8.52628 22.8769 8.34467 22.7486 8.21054C22.6203 8.0764 22.4465 8.00069 22.2651 8.00005L18.7373 8ZM19.4275 9.4375H21.5748V11.6456C21.5751 11.8078 21.6277 11.9652 21.7243 12.0921C21.8208 12.219 21.9555 12.308 22.1066 12.3447C23.4544 12.6746 24.6765 13.4134 25.625 14.4673C25.7311 14.5865 25.8726 14.6647 26.0265 14.6889C26.1805 14.7131 26.3376 14.682 26.4725 14.6006L28.3003 13.4972L29.376 15.4442L27.5429 16.5477H27.5428C27.4091 16.6298 27.3058 16.7567 27.2498 16.9077C27.1936 17.0588 27.1881 17.2253 27.234 17.3802C27.4349 18.0688 27.5368 18.7828 27.5388 19.5027C27.5377 20.2212 27.4332 20.9378 27.234 21.6253C27.1885 21.7808 27.195 21.9478 27.2521 22.0989C27.309 22.25 27.4135 22.3766 27.5481 22.4578L29.3759 23.557L28.3002 25.504L26.4671 24.4005L26.4672 24.4007C26.3331 24.3185 26.1762 24.2863 26.0223 24.3092C25.8685 24.3322 25.7266 24.4089 25.6197 24.5269C24.6723 25.5807 23.4533 26.3185 22.1067 26.6495C21.9554 26.6864 21.8204 26.7756 21.7239 26.9028C21.6274 27.0301 21.5749 27.1878 21.5749 27.3501V29.5625H19.4276V27.3558C19.4276 27.1931 19.375 27.0354 19.2781 26.9082C19.1813 26.781 19.0461 26.6918 18.8944 26.6552C17.5466 26.3253 16.3205 25.5865 15.372 24.5326C15.2663 24.415 15.1257 24.338 14.973 24.3141C14.8201 24.2902 14.6642 24.3207 14.5301 24.4007L12.7023 25.504L11.6266 23.557L13.4529 22.4523C13.588 22.3712 13.6927 22.2448 13.7499 22.0937C13.8073 21.9424 13.8138 21.7754 13.7686 21.6198C13.5677 20.9312 13.4658 20.2171 13.4638 19.4972C13.4649 18.7788 13.5694 18.0621 13.7686 17.3746C13.8138 17.219 13.8073 17.052 13.7499 16.9007C13.6927 16.7496 13.588 16.6231 13.4529 16.5421L11.6266 15.4443L12.7023 13.4973L14.534 14.6007C14.6679 14.6817 14.824 14.713 14.977 14.6899C15.13 14.6667 15.271 14.5903 15.3774 14.473C16.3248 13.4193 17.5478 12.6813 18.8944 12.3504C19.0461 12.3139 19.1813 12.2247 19.2781 12.0974C19.375 11.9702 19.4276 11.8125 19.4276 11.65L19.4275 9.4375ZM22.8733 16.9692L22.8735 16.969C22.8497 16.9687 22.8259 16.9697 22.8023 16.9717C22.6275 16.99 22.4659 17.0775 22.3508 17.2161C22.2357 17.3549 22.1757 17.5345 22.1832 17.7179C22.1908 17.9015 22.2653 18.0751 22.3913 18.2029L23.6295 19.5029L22.3913 20.7973V20.7972C22.2584 20.9315 22.1827 21.1158 22.1813 21.309C22.1799 21.5021 22.253 21.6878 22.3841 21.824C22.5151 21.9602 22.693 22.0356 22.8778 22.033C23.0626 22.0306 23.2386 21.9504 23.3663 21.8108L25.092 20.0069C25.22 19.8721 25.2918 19.69 25.2918 19.5C25.2918 19.3101 25.22 19.128 25.092 18.9932L23.3663 17.1893V17.1894C23.2372 17.0492 23.0595 16.9698 22.8735 16.969L22.8733 16.9692ZM18.1075 16.9719L18.1076 16.9717C17.9294 16.9777 17.7605 17.0558 17.6363 17.1894L15.9106 18.9934V18.9932C15.7825 19.128 15.7106 19.3101 15.7106 19.5C15.7106 19.69 15.7825 19.8721 15.9106 20.0069L17.6363 21.8108C17.7609 21.9629 17.9405 22.0537 18.132 22.0614C18.3234 22.0691 18.5093 21.9931 18.6448 21.8514C18.7802 21.7099 18.8531 21.5156 18.8457 21.3154C18.8382 21.1153 18.7513 20.9274 18.6058 20.7972L17.3663 19.5028L18.6058 18.2029C18.7377 18.0675 18.8118 17.8822 18.8113 17.6889C18.8109 17.4956 18.7361 17.3106 18.6037 17.1757C18.4712 17.0407 18.2924 16.9673 18.1076 16.9719L18.1075 16.9719ZM20.9786 17.0351L20.9787 17.035C20.9572 17.0343 20.9357 17.0348 20.9142 17.0364C20.7681 17.0447 20.6285 17.1019 20.5154 17.1989C20.4024 17.2961 20.322 17.4285 20.2858 17.5769L19.3913 21.0569H19.3915C19.3336 21.2438 19.3515 21.4472 19.441 21.62C19.5305 21.7928 19.6837 21.9197 19.8649 21.9714C20.0462 22.023 20.2399 21.9949 20.4009 21.8936C20.5617 21.792 20.6759 21.6263 20.7169 21.4345L21.6099 17.9489V17.9488C21.6672 17.7375 21.6288 17.5105 21.5057 17.3324C21.3828 17.1543 21.1887 17.0447 20.9787 17.0349L20.9786 17.0351Z" fill="#BC6EFB"/>
						</svg>
						<span>API Key</span>
						<div><i><?= self::$user['user_api_key'] ?? 0 ?></i></div>
						<a class="btn" href="#">Change</a>
					</div>
					<div class="detail">
						<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
							<circle opacity="0.3" cx="20" cy="20" r="20" fill="#8E53F5"/>
							<path d="M20.12 20.78C20.05 20.77 19.96 20.77 19.88 20.78C18.12 20.72 16.72 19.28 16.72 17.51C16.72 15.7 18.18 14.23 20 14.23C21.81 14.23 23.28 15.7 23.28 17.51C23.27 19.28 21.88 20.72 20.12 20.78Z" stroke="#BC6EFB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							<path d="M26.74 27.3801C24.96 29.0101 22.6 30.0001 20 30.0001C17.4 30.0001 15.04 29.0101 13.26 27.3801C13.36 26.4401 13.96 25.5201 15.03 24.8001C17.77 22.9801 22.25 22.9801 24.97 24.8001C26.04 25.5201 26.64 26.4401 26.74 27.3801Z" stroke="#BC6EFB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
							<path d="M20 30C25.5228 30 30 25.5228 30 20C30 14.4772 25.5228 10 20 10C14.4772 10 10 14.4772 10 20C10 25.5228 14.4772 30 20 30Z" stroke="#BC6EFB" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
						<span>Username</span>
						<div><i><?= self::$user['user_email'] ?? 0 ?></i></div>
						<a class="btn" href="/logout">Logout</a>
					</div>
				</div>
			</div>
			<div class="dragon">
				<video width="380" height="380" autoplay="autoplay" muted loop="loop" poster="/assets/video/dragon-poster.webp" >
					<source src="/assets/video/dragon.mp4" type="video/mp4">
					Your browser doesn't support HTML5 video tag.
				</video>
			</div>
		</div>
	</div>


	<div class="g-list rest_page_hegiht">
		<?php 
			include_once 'db.php';	

			$db = new Database();
			$conn = $db->connect();

			$sql = "SELECT * FROM tbl_track WHERE user_id = '" . self::$user['user_id'] . "'";

			$result = mysqli_query( $conn, $sql );			

			if ( $result ) {
				$tracks = mysqli_fetch_all( $result, MYSQLI_BOTH );

				foreach ( $tracks as $track ) {					
				?>
				<div class="g-item">
					<div class="grow">
						<img src="<?= $track['logo_url']; ?>" alt="<?= $track['name']; ?>">
						<div class="title"><?= $track['name']; ?></div>
					</div>
					<div>Used: <?= $track['used']; ?></div>
					<div>Cost: <?= $track['cost']; ?>$</div>
				</div>
				<?php
				}
			}
		?>
	</div>



</main>